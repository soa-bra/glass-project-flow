#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ๐ Commit Message Hook - Conventional Commits
# ูุชุญูู ูู ุตูุบุฉ ุฑุณุงุฆู ุงูู commit

echo "๐ ูุญุต ุตูุบุฉ ุฑุณุงูุฉ ุงูู commit..."

npx --no -- commitlint --edit ${1}

if [ $? -ne 0 ]; then
  echo ""
  echo "โ ุตูุบุฉ ุฑุณุงูุฉ ุงูู commit ุบูุฑ ุตุญูุญุฉ!"
  echo ""
  echo "๐ ุงูุตูุบุฉ ุงููุทููุจุฉ: <type>(<scope>): <description>"
  echo ""
  echo "ุฃููุงุน ูุณููุญุฉ:"
  echo "  feat     โ ููุฒุฉ ุฌุฏูุฏุฉ"
  echo "  fix      โ ุฅุตูุงุญ ุฎุทุฃ"
  echo "  docs     โ ุชุญุฏูุซ ูุซุงุฆู"
  echo "  style    โ ุชูุณูู (ูุง ูุคุซุฑ ุนูู ุงูููุฏ)"
  echo "  refactor โ ุฅุนุงุฏุฉ ููููุฉ"
  echo "  perf     โ ุชุญุณูู ุฃุฏุงุก"
  echo "  test     โ ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช"
  echo "  chore    โ ููุงู ุตูุงูุฉ"
  echo ""
  echo "ุฃูุซูุฉ:"
  echo "  feat(planning): add new smart element"
  echo "  fix(canvas): resolve zoom issue"
  echo "  refactor(state): migrate to Zustand"
  echo ""
  exit 1
fi

echo "โ ุตูุบุฉ ุฑุณุงูุฉ ุงูู commit ุตุญูุญุฉ!"
